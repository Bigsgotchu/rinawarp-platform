# AWS Region Configuration
export AWS_DEFAULT_REGION="us-west-2"
export AWS_REGION="us-west-2"

# AWS Infrastructure Configuration
export AWS_VPC_ID="vpc-016e06db456cbb9d6"
export AWS_SUBNET_1="subnet-0c57e97646db23e7c"
export AWS_SUBNET_2="subnet-00a24d4f3103ad306"
export AWS_SECURITY_GROUP_ID="sg-034472ffea5bebbd7"
export AWS_ROUTE53_ZONE_ID="/hostedzone/Z0713202NJO49ZHK5ER1"
export AWS_SNS_TOPIC_ARN="arn:aws:sns:us-west-2:720237151757:RinaWarp-Alerts"

# Environment Domain Names
export PRODUCTION_DOMAIN="rinawarptech.com"
export STAGING_DOMAIN="staging.rinawarptech.com"
export PREVIEW_DOMAIN="preview.rinawarptech.com"
export DEV_DOMAIN="dev.rinawarptech.com"
export QA_DOMAIN="qa.rinawarptech.com"
export E2E_DOMAIN="e2e.rinawarptech.com"
export CI_DOMAIN="ci.rinawarptech.com"

# GitHub Configuration
export GITHUB_REPO="Bigsgotchu/rinawarp"
export GITHUB_BRANCH_MAIN="main"
export GITHUB_BRANCH_DEVELOP="develop"

# Stripe Configuration
export STRIPE_API_VERSION="2023-10-16"
export STRIPE_WEBHOOK_TOLERANCE="300"

# Load Stripe keys from SSM
export STRIPE_SECRET_KEY=$(aws ssm get-parameter --name "/rinawarp/${ENVIRONMENT}/STRIPE_SECRET_KEY" --with-decryption --query "Parameter.Value" --output text)

# Derive publishable key from secret key pattern
if [[ "$STRIPE_SECRET_KEY" =~ ^sk_test_ ]]; then
    export STRIPE_PUBLISHABLE_KEY="pk_test_${STRIPE_SECRET_KEY#sk_test_}"
elif [[ "$STRIPE_SECRET_KEY" =~ ^sk_live_ ]]; then
    export STRIPE_PUBLISHABLE_KEY="pk_live_${STRIPE_SECRET_KEY#sk_live_}"
fi
